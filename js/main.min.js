document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".hamburger"),t=document.querySelector(".nav-links");e&&t&&(e.addEventListener("click",function(){e.classList.toggle("active"),t.classList.toggle("active"),document.body.style.overflow=t.classList.contains("active")?"hidden":"";const n=t.classList.contains("active");e.setAttribute("aria-expanded",n?"true":"false"),e.setAttribute("aria-label",n?"메뉴 닫기":"메뉴 열기")}),document.querySelectorAll(".nav-links a").forEach(function(n){n.addEventListener("click",function(){e.classList.remove("active"),t.classList.remove("active"),document.body.style.overflow="",e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label","메뉴 열기")})}));const n=document.getElementById("header");n&&window.addEventListener("scroll",function(){window.scrollY>50?n.classList.add("scrolled"):n.classList.remove("scrolled")});const s=document.querySelector(".tabs");if(s){const e=s.querySelectorAll(".tab-btn"),t=document.querySelectorAll(".tab-content");s.addEventListener("click",function(n){const s=n.target.closest(".tab-btn");if(!s)return;const o=s.dataset.tab;e.forEach(function(e){e.classList.remove("active"),e.setAttribute("aria-selected","false")}),t.forEach(function(e){e.classList.remove("active"),e.setAttribute("hidden","")}),s.classList.add("active"),s.setAttribute("aria-selected","true");const c=document.getElementById(o);c&&(c.removeAttribute("hidden"),setTimeout(()=>c.classList.add("active"),50))})}const o=document.querySelectorAll(".fade-in"),c=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&(e.target.classList.add("is-visible"),c.unobserve(e.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});o.forEach(function(e){c.observe(e)});const i=document.querySelectorAll("section[id]"),a=document.querySelectorAll('nav .nav-links a[href^="#"]');let l=!1;function r(){let e="";const t=window.pageYOffset;i.forEach(function(n){const s=n.offsetTop-100;t>=s&&(e=n.getAttribute("id"))}),a.forEach(function(t){t.classList.remove("active"),t.removeAttribute("aria-current"),t.getAttribute("href")==="#"+e&&(t.classList.add("active"),t.setAttribute("aria-current","page"))}),l=!1}window.addEventListener("scroll",function(){l||(window.requestAnimationFrame(r),l=!0)}),document.querySelectorAll('a[href^="#"]').forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href"),n=document.querySelector(t);if(n){const e=n.offsetTop-80;window.scrollTo({top:e,behavior:"smooth"})}})}),document.querySelectorAll("#hero .fade-in").forEach(function(e){e.classList.add("is-visible")});const d=document.querySelectorAll(".filter-btn"),u=document.querySelectorAll(".showcase-card");d.length>0&&d.forEach(e=>{e.addEventListener("click",()=>{d.forEach(e=>{e.classList.remove("active"),e.setAttribute("aria-pressed","false")}),e.classList.add("active"),e.setAttribute("aria-pressed","true");const t=e.getAttribute("data-filter");u.forEach(e=>{"all"===t||e.getAttribute("data-category")===t?(e.style.display="flex",e.classList.remove("is-visible"),setTimeout(()=>e.classList.add("is-visible"),50)):e.style.display="none"})})}),emailjs.init("usSqEtBNQGGfnaBK_8jyV");const m=document.getElementById("contact-form"),f=document.getElementById("form-message");m&&m.addEventListener("submit",function(e){e.preventDefault();const t=m.querySelector(".submit-btn"),n=t.innerHTML;t.disabled=!0,t.innerHTML='<i class="fa-solid fa-spinner fa-spin"></i> 전송 중...';const s={from_name:document.getElementById("name").value,from_email:document.getElementById("email").value,phone:document.getElementById("phone").value,company:document.getElementById("company").value,participants:document.getElementById("participants").value,schedule:document.getElementById("schedule").value,message:document.getElementById("message").value};emailjs.send("service_86ytxlb","URK5IT-ga48mugcnf",s).then(function(e){console.log("SUCCESS!",e.status,e.text),f.style.display="block",f.className="form-message success",f.textContent="✅ 문의가 성공적으로 전송되었습니다! 빠른 시간 내에 답변드리겠습니다.",m.reset(),t.disabled=!1,t.innerHTML=n,setTimeout(function(){f.style.display="none"},5e3)},function(e){console.log("FAILED...",e),f.style.display="block",f.className="form-message error",f.textContent="❌ 전송 중 오류가 발생했습니다. 이메일(lionell20@naver.com)로 직접 연락 부탁드립니다.",t.disabled=!1,t.innerHTML=n,setTimeout(function(){f.style.display="none"},8e3)})})});