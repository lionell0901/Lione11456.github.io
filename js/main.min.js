document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".hamburger"),t=document.querySelector(".nav-links");e&&t&&(e.addEventListener("click",function(){e.classList.toggle("active"),t.classList.toggle("active"),document.body.style.overflow=t.classList.contains("active")?"hidden":"";const s=t.classList.contains("active");e.setAttribute("aria-expanded",s?"true":"false"),e.setAttribute("aria-label",s?"메뉴 닫기":"메뉴 열기")}),document.querySelectorAll(".nav-links a").forEach(function(s){s.addEventListener("click",function(){e.classList.remove("active"),t.classList.remove("active"),document.body.style.overflow="",e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label","메뉴 열기")})}));const s=document.getElementById("header");s&&window.addEventListener("scroll",function(){window.scrollY>50?s.classList.add("scrolled"):s.classList.remove("scrolled")});const n=document.querySelector(".tabs");if(n){const e=n.querySelectorAll(".tab-btn"),t=document.querySelectorAll(".tab-content");n.addEventListener("click",function(s){const n=s.target.closest(".tab-btn");if(!n)return;const o=n.dataset.tab;e.forEach(function(e){e.classList.remove("active"),e.setAttribute("aria-selected","false")}),t.forEach(function(e){e.classList.remove("active"),e.setAttribute("hidden","")}),n.classList.add("active"),n.setAttribute("aria-selected","true");const c=document.getElementById(o);c&&(c.removeAttribute("hidden"),setTimeout(()=>c.classList.add("active"),50))})}const o=document.querySelectorAll(".fade-in"),c=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&(e.target.classList.add("is-visible"),c.unobserve(e.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});o.forEach(function(e){c.observe(e)});const a=document.querySelectorAll("section[id]"),i=document.querySelectorAll('nav .nav-links a[href^="#"]');let l=!1;function r(){let e="";const t=window.pageYOffset;a.forEach(function(s){const n=s.offsetTop-100;t>=n&&(e=s.getAttribute("id"))}),i.forEach(function(t){t.classList.remove("active"),t.removeAttribute("aria-current"),t.getAttribute("href")==="#"+e&&(t.classList.add("active"),t.setAttribute("aria-current","page"))}),l=!1}window.addEventListener("scroll",function(){l||(window.requestAnimationFrame(r),l=!0)}),document.querySelectorAll('a[href^="#"]').forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href"),s=document.querySelector(t);if(s){const e=s.offsetTop-80;window.scrollTo({top:e,behavior:"smooth"})}})}),document.querySelectorAll("#hero .fade-in").forEach(function(e){e.classList.add("is-visible")});const d=document.querySelectorAll(".program-tab"),u=document.querySelectorAll(".program-detail");d.length>0&&d.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.program;d.forEach(e=>e.classList.remove("active")),e.classList.add("active"),u.forEach(e=>e.classList.remove("active"));const s=document.getElementById("program-"+t);s&&s.classList.add("active")})});const m=document.querySelectorAll(".filter-btn"),f=document.querySelectorAll(".showcase-card");m.length>0&&m.forEach(e=>{e.addEventListener("click",()=>{m.forEach(e=>{e.classList.remove("active"),e.setAttribute("aria-pressed","false")}),e.classList.add("active"),e.setAttribute("aria-pressed","true");const t=e.getAttribute("data-filter");f.forEach(e=>{"all"===t||e.getAttribute("data-category")===t?(e.style.display="flex",e.classList.remove("is-visible"),setTimeout(()=>e.classList.add("is-visible"),50)):e.style.display="none"})})}),emailjs.init("URK5IT-ga48mugcnf"),console.log("EmailJS initialized successfully");const v=document.getElementById("contact-form"),b=document.getElementById("form-message");v&&v.addEventListener("submit",function(e){e.preventDefault(),console.log("Form submitted");const t=v.querySelector(".submit-btn"),s=t.innerHTML;t.disabled=!0,t.innerHTML='<i class="fa-solid fa-spinner fa-spin"></i> 전송 중...';const n={from_name:document.getElementById("name").value,from_email:document.getElementById("email").value,phone:document.getElementById("phone").value,company:document.getElementById("company").value,participants:document.getElementById("participants").value,schedule:document.getElementById("schedule").value,message:document.getElementById("message").value};console.log("Template params:",n),emailjs.send("service_86ytxlb","template_10s18ru",n).then(function(e){console.log("SUCCESS!",e.status,e.text),b.style.display="block",b.className="form-message success",b.innerHTML='<i class="fa-solid fa-circle-check"></i> 문의가 성공적으로 전송되었습니다! 빠른 시간 내에 답변드리겠습니다.',v.reset(),t.disabled=!1,t.innerHTML=s,b.scrollIntoView({behavior:"smooth",block:"nearest"}),setTimeout(function(){b.style.display="none"},6e3)},function(e){console.error("EmailJS Error:",e),b.style.display="block",b.className="form-message error",b.innerHTML='<i class="fa-solid fa-circle-xmark"></i> 전송 중 오류가 발생했습니다. 잠시 후 다시 시도해주세요.',t.disabled=!1,t.innerHTML=s,b.scrollIntoView({behavior:"smooth",block:"nearest"}),setTimeout(function(){b.style.display="none"},8e3)})})});